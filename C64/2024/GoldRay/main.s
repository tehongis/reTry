

; https://sta.c64.org/cbm64mem.html


    org $0800
basic:
    db  $00,$0c,$08,$e8,$07,$9e,$20,$32,$30,$36,$34,$00,$00

    org $0810
init:

	jsr	initlogo

	lda #$00
	jsr music

	sei
	lda #$35
	sta $01

	lda #<irq
	sta $fffe
	lda #>irq
	sta $ffff

	lda #$7f
	sta $dc0d
	sta $dd0d

	lda #$01
	sta $d01a

	lda #$f8
	sta $d012
	lda #$1b
	sta $d011

	lda $dc0d
	lda $dd0d
	asl $d019
	cli


	lda #$14
	sta $d018
    lda #$0e
    sta $d020
    lda #$06
    sta $d021

.loop 
    jmp .loop

initlogo
	ldx #$00
.logoloop	
	lda logo,x
	sta $0400,x
	inx
	bne .logoloop

	ldx #$00
.logoloop2
	lda logo+$100,x
	sta $0400+$100,x
	inx
	cpx #$b8
	bne .logoloop2

	ldx #$00
	lda #$20
.clearloop
	sta $0400+$200,x
	sta $0400+$300,x
	inx
	bne .clearloop

	rts

irq:
	inc $d020
	asl $d019

	ldx #$00
	ldy $ff
.colorloop
	lda colors+0,y
	sta $d800+(40*0),x
	lda colors+1,y
	sta $d800+(40*1),x
	lda colors+2,y
	sta $d800+(40*2),x
	lda colors+3,y
	sta $d800+(40*3),x
	lda colors+4,y
	sta $d800+(40*4),x
	lda colors+5,y
	sta $d800+(40*5),x
	lda colors+6,y
	sta $d800+(40*6),x
	lda colors+7,y
	sta $d800+(40*7),x
	lda colors+8,y
	sta $d800+(40*8),x
	lda colors+9,y
	sta $d800+(40*9),x
	lda colors+10,y
	sta $d800+(40*10),x
	iny
	inx
	cpx #$28
	bne .colorloop

	inc $ff

	jsr music+3

	dec $d020
    rti

logo
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$a0
	db $20,$a0,$a0,$20,$a0,$a0,$20,$a0,$00

colors
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$09,$00,$09,$09,$02,$09,$02
	db $02,$08,$02,$08,$08,$07,$08,$07
	db $07,$01,$07,$01,$01,$07,$01,$07
	db $07,$08,$07,$08,$08,$02,$08,$02

	db $02,$09,$02,$09,$09,$00,$09,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00

	db $00,$06,$00,$06,$06,$0e,$06,$0e
	db $0e,$03,$0e,$03,$03,$01,$03,$01
	db $01,$03,$01,$03,$03,$0e,$03,$0e
	db $0e,$06,$0e,$06,$06,$00,$06,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00

	db $00,$0b,$00,$0b,$0b,$0c,$0b,$0c
	db $0c,$0f,$0c,$0f,$0f,$01,$0f,$01
	db $01,$0f,$01,$0f,$0f,$0c,$0f,$0c
	db $0c,$0b,$0c,$0b,$0b,$00,$0b,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00

	org $1000
music
	incbin "music.dat",2
